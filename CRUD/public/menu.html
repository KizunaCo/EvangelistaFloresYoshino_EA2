<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cafetano | Menu</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap');
    body {
      background: linear-gradient(135deg, #fdf6f0 60%, #f5e1d4 100%);
      font-family: 'Montserrat', 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 0 0 2rem 0;
      padding: 2rem 3vw 0 3vw;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 2px 16px 0 rgba(62,39,35,0.07);
      border-bottom-left-radius: 32px;
      border-bottom-right-radius: 32px;
    }
    h1 {
      color: #3e2723;
      font-size: 2.4rem;
      font-weight: 700;
      letter-spacing: 2px;
      margin: 0;
      text-shadow: 0 2px 8px #e0cfc2;
    }
    .cart-icon {
      text-decoration: none;
      background: linear-gradient(90deg, #3e2723 60%, #a1887f 100%);
      color: white;
      padding: 0.7rem 1.5rem;
      border-radius: 12px;
      font-size: 1.1rem;
      font-weight: 600;
      box-shadow: 0 2px 8px #e0cfc2;
      margin-left: 0.5rem;
      transition: background 0.2s, box-shadow 0.2s;
      border: none;
      outline: none;
      display: inline-block;
    }
    .cart-icon:hover {
      background: linear-gradient(90deg, #5d4037 60%, #d7ccc8 100%);
      box-shadow: 0 4px 16px #d7ccc8;
      color: #fffde7;
    }
    #user-greeting {
      font-weight: 600;
      color: #3e2723;
      font-size: 1.08rem;
      letter-spacing: 0.5px;
      vertical-align: middle;
    }
    .tabs {
      display: flex;
      gap: 1.2rem;
      margin: 2rem 0 2.5rem 0;
      flex-wrap: wrap;
      justify-content: center;
    }
    .tab-button {
      padding: 0.7rem 2.2rem;
      background: #fff;
      border: 2px solid #d7ccc8;
      border-radius: 14px;
      cursor: pointer;
      color: #3e2723;
      font-weight: 700;
      font-size: 1.08rem;
      letter-spacing: 1px;
      box-shadow: 0 2px 8px #f5e1d4;
      transition: 0.2s;
      outline: none;
    }
    .tab-button.active,
    .tab-button:hover {
      background: linear-gradient(90deg, #3e2723 70%, #a1887f 100%);
      color: #fffde7;
      border-color: #3e2723;
      box-shadow: 0 4px 16px #d7ccc8;
      transform: translateY(-2px) scale(1.04);
    }
    .menu-section {
      display: none;
      animation: fadeIn 0.7s;
    }
    .menu-section.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px);}
      to { opacity: 1; transform: translateY(0);}
    }
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 2.2rem;
      padding: 0 3vw 2vw 3vw;
    }
    .menu-card {
      background: linear-gradient(135deg, #fff 80%, #f5e1d4 100%);
      border-radius: 22px;
      padding: 1.3rem 1.2rem 1.2rem 1.2rem;
      box-shadow: 0 6px 32px 0 rgba(62,39,35,0.09);
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      border: 1.5px solid #f5e1d4;
      transition: box-shadow 0.2s, transform 0.2s;
      min-height: 420px;
      position: relative;
    }
    .menu-card:hover {
      box-shadow: 0 12px 32px 0 #e0cfc2;
      transform: translateY(-4px) scale(1.025);
      border-color: #a1887f;
    }
    .menu-card img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 14px;
      margin-bottom: 1.1rem;
      box-shadow: 0 2px 12px #e0cfc2;
      background: #f5e1d4;
    }
    .menu-card h3 {
      color: #3e2723;
      margin: 0.5rem 0 0.3rem;
      font-size: 1.25rem;
      font-weight: 700;
      letter-spacing: 1px;
    }
    .menu-card p {
      font-size: 1.01rem;
      color: #6d4c41;
      flex-grow: 1;
      margin-bottom: 0.7rem;
      margin-top: 0.2rem;
      font-weight: 500;
    }
    .size-select {
      margin: 0.8rem 0 0.5rem 0;
    }
    .hotcold-select {
      margin-bottom: 0.7rem;
      font-size: 1.01rem;
      color: #6d4c41;
      font-weight: 600;
      display: flex;
      justify-content: center;
      gap: 1.5rem;
    }
    .hotcold-select label {
      cursor: pointer;
      user-select: none;
      padding: 0.2rem 0.6rem;
      border-radius: 8px;
      transition: background 0.2s, color 0.2s;
    }
    .hotcold-select input[type="radio"] {
      accent-color: #a1887f;
      margin-right: 0.3em;
      vertical-align: middle;
    }
    .hotcold-select input[type="radio"]:checked + span {
      color: #fff;
      background: #a1887f;
    }
    select.size-select {
      padding: 0.5rem;
      border-radius: 8px;
      border: 1.5px solid #d7ccc8;
      width: 100%;
      font-size: 1.05rem;
      background: #fdf6f0;
      color: #3e2723;
      font-weight: 600;
      outline: none;
      transition: border 0.2s;
    }
    select.size-select:focus {
      border: 1.5px solid #a1887f;
    }
    button {
      background: linear-gradient(90deg, #3e2723 70%, #a1887f 100%);
      color: white;
      border: none;
      padding: 0.8rem 0;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.08rem;
      font-weight: 700;
      margin-top: 0.7rem;
      box-shadow: 0 2px 8px #e0cfc2;
      transition: background 0.2s, box-shadow 0.2s, transform 0.2s;
      letter-spacing: 1px;
    }
    button:hover {
      background: linear-gradient(90deg, #5d4037 70%, #d7ccc8 100%);
      box-shadow: 0 4px 16px #d7ccc8;
      color: #fffde7;
      transform: scale(1.04);
    }
    .price-label {
      margin: 0.5rem 0 0.8rem 0;
      font-weight: 700;
      color: #3e2723;
      font-size: 1.09rem;
      letter-spacing: 0.5px;
    }
    @media (max-width: 900px) {
      .menu-grid {
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1.2rem;
        padding: 0 1vw 2vw 1vw;
      }
      header {
        padding: 1.2rem 2vw 0 2vw;
      }
    }
    @media (max-width: 600px) {
      header {
        flex-direction: column;
        align-items: flex-start;
        padding: 1rem 2vw 0 2vw;
      }
      .tabs {
        gap: 0.5rem;
        margin: 1.2rem 0 1.5rem 0;
      }
      .menu-card {
        min-height: 340px;
        padding: 1rem 0.7rem 1rem 0.7rem;
      }
      .menu-card img {
        height: 110px;
      }
    }
  </style>
</head>
<body>
<!-- ...existing HTML content... -->

<header>
  <h1>Cafetano Menu</h1>
  <div id="header-actions">
    <a class="cart-icon" href="cart.html">ðŸ›’ Cart</a>
    <span id="user-greeting" style="margin-left: 0.7rem;"></span>
  </div>
</header>

<div class="tabs">
  <button class="tab-button active" data-tab="coffee" onclick="showTab('coffee')">Coffee</button>
  <button class="tab-button" data-tab="noncoffee" onclick="showTab('noncoffee')">Non-Coffee Drinks</button>
  <button class="tab-button" data-tab="colddrinks" onclick="showTab('colddrinks')">Cold Drinks</button>
  <button class="tab-button" data-tab="pastries" onclick="showTab('pastries')">Pastries</button>
  <button class="tab-button" data-tab="meals" onclick="showTab('meals')">Meals</button>
</div>

<section id="coffee" class="menu-section active">
  <div class="menu-grid">
    <div class="menu-card">
      <img src="images/espresso.webp" alt="Espresso" />
      <h3>Espresso</h3>
      <p>Strong and bold, classic espresso shot.</p>
      <div class="hotcold-select">
        <label><input type="radio" name="hotcold-espresso" value="Hot" checked> Hot</label>
        <label style="margin-left:1rem;"><input type="radio" name="hotcold-espresso" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Single">Single - â‚±120</option>
          <option value="Double">Double - â‚±140</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card">
      <img src="images/cappuccino.png" alt="Cappuccino" />
      <h3>Cappuccino</h3>
      <p>Creamy and frothy with steamed milk foam.</p>
      <div class="hotcold-select">
        <label><input type="radio" name="hotcold-cappuccino" value="Hot" checked> Hot</label>
        <label style="margin-left:1rem;"><input type="radio" name="hotcold-cappuccino" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Medium">Medium - â‚±150</option>
          <option value="Large">Large - â‚±170</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card">
      <img src="images/spanish.jpg" alt="Spanish Latte" />
      <h3>Spanish Latte</h3>
      <p>Sweetened latte with creamy condensed milk.</p>
      <div class="hotcold-select">
        <label><input type="radio" name="hotcold-spanishlatte" value="Hot" checked> Hot</label>
        <label style="margin-left:1rem;"><input type="radio" name="hotcold-spanishlatte" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Medium">Medium - â‚±160</option>
          <option value="Large">Large - â‚±180</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card">
      <img src="images/mochalatte.webp" alt="Mocha" />
      <h3>Mocha</h3>
      <p>Chocolate-flavored coffee with whipped cream.</p>
      <div class="hotcold-select">
        <label><input type="radio" name="hotcold-mocha" value="Hot" checked> Hot</label>
        <label style="margin-left:1rem;"><input type="radio" name="hotcold-mocha" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Medium">Medium - â‚±165</option>
          <option value="Large">Large - â‚±185</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
  </div>
</section>

<section id="noncoffee" class="menu-section">
  <div class="menu-grid">
    <div class="menu-card">
      <img src="images/matchalatte.jpg" alt="Matcha Latte" />
      <h3>Matcha Latte</h3>
      <p>Earthy green tea with steamed milk.</p>
      <div class="hotcold-select">
        <label><input type="radio" name="hotcold-matcha" value="Hot" checked> Hot</label>
        <label style="margin-left:1rem;"><input type="radio" name="hotcold-matcha" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Medium">Medium - â‚±160</option>
          <option value="Large">Large - â‚±180</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card">
      <img src="images/chocolate.jpg" alt="Classic Chocolate" />
      <h3>Classic Chocolate</h3>
      <p>Rich cocoa drink topped with marshmallows.</p>
      <div class="hotcold-select">
        <label><input type="radio" name="hotcold-chocolate" value="Hot" checked> Hot</label>
        <label style="margin-left:1rem;"><input type="radio" name="hotcold-chocolate" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Medium">Medium - â‚±140</option>
          <option value="Large">Large - â‚±160</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card">
      <img src="images/chailatte.jpg" alt="Chai Latte" />
      <h3>Chai Latte</h3>
      <p>Spiced tea blend with steamed milk.</p>
      <div class="hotcold-select">
        <label><input type="radio" name="hotcold-chai" value="Hot" checked> Hot</label>
        <label style="margin-left:1rem;"><input type="radio" name="hotcold-chai" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Medium">Medium - â‚±150</option>
          <option value="Large">Large - â‚±170</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
  </div>
</section>

<section id="colddrinks" class="menu-section">
  <div class="menu-grid">
    <div class="menu-card">
      <img src="images/icedlatte.jpg" alt="Iced Latte" />
      <h3>Iced Latte</h3>
      <p>Chilled espresso and milk over ice.</p>
      <div class="hotcold-select">

       <label style="margin-left:1rem;"><input type="radio" name="hotcold-lemontea" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Medium">Medium - â‚±150</option>
          <option value="Large">Large - â‚±170</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card">
      <img src="images/lemontea.jpg" alt="Lemon Iced Tea" />
      <h3>Lemon Iced Tea</h3>
      <p>Refreshing citrus-flavored iced tea.</p>
      <div class="hotcold-select">
    
        <label style="margin-left:1rem;"><input type="radio" name="hotcold-lemontea" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Regular">Regular - â‚±90</option>
          <option value="Large">Large - â‚±110</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card">
      <img src="images/cookiesandcream.jpg" alt="Cookies & Cream Frappe" />
      <h3>Cookies & Cream Frappe</h3>
      <p>Cold and creamy with cookie bits.</p>
      <div class="hotcold-select">
        <label style="margin-left:1rem;"><input type="radio" name="hotcold-lemontea" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Medium">Medium - â‚±170</option>
          <option value="Large">Large - â‚±190</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card">
      <img src="images/strawberrymilk.jpg" alt="Strawberry Milk" />
      <h3>Strawberry Milk</h3>
      <p>Sweet and fruity cold milk drink.</p>
      <div class="hotcold-select">
      
       <label style="margin-left:1rem;"><input type="radio" name="hotcold-lemontea" value="Cold"> Cold</label>
      </div>
      <div class="size-select">
        <select class="size-select">
          <option value="Regular">Regular - â‚±130</option>
          <option value="Large">Large - â‚±150</option>
        </select>
      </div>
      <button>Add to Cart</button>
    </div>
  </div>
</section>

<!-- Pastries and Meals remain unchanged -->

<section id="pastries" class="menu-section">
  <div class="menu-grid">
    <div class="menu-card" data-price="70">
      <img src="images/croissant.png" alt="Butter Croissant" />
      <h3>Butter Croissant</h3>
      <p>Light, flaky, and buttery classic.</p>
      <div class="price-label">â‚±70</div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card" data-price="90">
      <img src="images/minicheesecake.jpg" alt="Mini Cheesecake" />
      <h3>Mini Cheesecake</h3>
      <p>Creamy and rich dessert slice.</p>
      <div class="price-label">â‚±90</div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card" data-price="60">
      <img src="images/bananabread.jpg" alt="Banana Bread" />
      <h3>Banana Bread</h3>
      <p>Moist and homemade taste.</p>
      <div class="price-label">â‚±60</div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card" data-price="85">
      <img src="images/chocolatecake.jpg" alt="Chocolate Cake" />
      <h3>Chocolate Cake</h3>
      <p>Rich and decadent slice.</p>
      <div class="price-label">â‚±85</div>
      <button>Add to Cart</button>
    </div>
  </div>
</section>

<section id="meals" class="menu-section">
  <div class="menu-grid">
    <div class="menu-card" data-price="120">
      <img src="images/baconandegg.jpg" alt="Bacon & Egg Sandwich" />
      <h3>Bacon & Egg Sandwich</h3>
      <p>Toasted sandwich with crispy bacon and egg.</p>
      <div class="price-label">â‚±120</div>
      <button>Add to Cart</button>
    </div>
    <div class="menu-card" data-price="140">
      <img src="images/garlictuna.jpg" alt="Garlic Tuna Pasta" />
      <h3>Garlic Tuna Pasta</h3>
      <p>Light pasta tossed in garlic oil with tuna.</p>
      <div class="price-label">â‚±140</div>
      <button>Add to Cart</button>
    </div>
  </div>
</section>

<script>
  const tabs = document.querySelectorAll('.tab-button');
  const sections = document.querySelectorAll('.menu-section');

  function showTab(tabName) {
    sections.forEach(section => {
      section.classList.toggle('active', section.id === tabName);
    });
    tabs.forEach(tab => {
      tab.classList.toggle('active', tab.dataset.tab === tabName);
    });
  }
  // Utility function to get cart from localStorage or empty array
  function getCart() {
    return JSON.parse(localStorage.getItem('cafetanoCart')) || [];
  }

  // Utility function to save cart to localStorage
  function saveCart(cart) {
    localStorage.setItem('cafetanoCart', JSON.stringify(cart));
  }

  // When user clicks Add to Cart button
  function addToCart(button) {
    const card = button.closest('.menu-card');
    const name = card.querySelector('h3').textContent.trim();
    const sizeSelect = card.querySelector('select.size-select');
    // Get hot/cold option if present
    let hotcold = null;
    const hotcoldRadio = card.querySelector('.hotcold-select input[type="radio"]:checked');
    if (hotcoldRadio) {
      hotcold = hotcoldRadio.value;
    }
    let size, price;
    if (sizeSelect) {
      size = sizeSelect.options[sizeSelect.selectedIndex].value;
      price = parseFloat(sizeSelect.options[sizeSelect.selectedIndex].text.match(/â‚±(\d+)/)[1]);
    } else {
      size = 'Regular';
      price = parseFloat(card.dataset.price) || 0;
    }

    // Define availableSizes for the item by reading all options
    let availableSizes = [];
    if (sizeSelect) {
      for (let option of sizeSelect.options) {
        const s = option.value;
        const p = parseFloat(option.text.match(/â‚±(\d+)/)[1]);
        availableSizes.push({ size: s, price: p });
      }
    } else {
      availableSizes = [{ size: size, price: price }];
    }

    let cart = getCart();

    // Check if item with same name, size, and hot/cold already exists in cart
    const existingIndex = cart.findIndex(item =>
      item.name === name &&
      item.size === size &&
      (item.hotcold === hotcold || (!item.hotcold && !hotcold))
    );

    if (existingIndex !== -1) {
      // Increase quantity
      cart[existingIndex].quantity += 1;
    } else {
      // Add new item
      cart.push({
        name,
        hotcold,
        size,
        price,
        quantity: 1,
        availableSizes
      });
    }

    saveCart(cart);

    alert(`${hotcold ? hotcold + ' ' : ''}${name} (${size}) added to cart!`);
  }

  // Attach event listeners to all Add to Cart buttons
  document.querySelectorAll('button').forEach(button => {
    if (button.textContent.trim() === 'Add to Cart') {
      button.addEventListener('click', () => addToCart(button));
    }
  });

  
  // User greeting/login logic
  function updateUserGreeting() {
    const userGreeting = document.getElementById('user-greeting');
    let loggedIn = null;
    try {
      loggedIn = JSON.parse(localStorage.getItem('cafetanoLoggedIn'));
    } catch {}
    if (loggedIn && loggedIn.fullname) {
      userGreeting.innerHTML = `
        ðŸ‘¤ ${loggedIn.fullname}
        <a href="#" id="logout-link" style="margin-left:1rem;color:#b71c1c;text-decoration:underline;cursor:pointer;">Logout</a>
      `;
      document.getElementById('logout-link').onclick = function() {
        localStorage.removeItem('cafetanoLoggedIn');
        window.location.reload();
      };
    } else {
      userGreeting.innerHTML = `<a class="cart-icon" href="login.html">Login</a>`;
    }
  }

  updateUserGreeting();

</script>

</body>
</html>